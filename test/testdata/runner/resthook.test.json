{
    "http_mocks": {
        "http://localhost/?cmd=badrequest": [
            {
                "body": "{ \"errors\": [\"bad_request\"] }",
                "status": 400
            }
        ],
        "http://localhost/?cmd=success": [
            {
                "body": "{ \"ok\": \"true\" }",
                "status": 200
            }
        ]
    },
    "outputs": [
        {
            "session": {
                "uuid": "d2f852ec-7b4e-457f-ae7f-f8b243c49ff5",
                "type": "messaging",
                "environment": {
                    "date_format": "YYYY-MM-DD",
                    "time_format": "tt:mm",
                    "timezone": "UTC",
                    "number_format": {
                        "decimal_symbol": ".",
                        "digit_grouping_symbol": ","
                    },
                    "redaction_policy": "none",
                    "max_value_length": 640,
                    "links": [
                        ""
                    ]
                },
                "trigger": {
                    "type": "manual",
                    "flow": {
                        "uuid": "76f0a02f-3b75-4b86-9064-e9195e1b3a02",
                        "name": "Resthook"
                    },
                    "contact": {
                        "uuid": "ba96bf7f-bc2a-4873-a7c7-254d1927c4e3",
                        "id": 1234567,
                        "name": "Ben Haggerty",
                        "language": "eng",
                        "status": "active",
                        "timezone": "America/Guayaquil",
                        "created_on": "2000-01-01T00:00:00Z",
                        "urns": [
                            "tel:+12065551212"
                        ]
                    },
                    "triggered_on": "2000-01-01T00:00:00Z"
                },
                "contact": {
                    "uuid": "ba96bf7f-bc2a-4873-a7c7-254d1927c4e3",
                    "id": 1234567,
                    "name": "Ben Haggerty",
                    "language": "eng",
                    "status": "active",
                    "timezone": "America/Guayaquil",
                    "created_on": "2000-01-01T00:00:00Z",
                    "urns": [
                        "tel:+12065551212"
                    ]
                },
                "runs": [
                    {
                        "uuid": "692926ea-09d6-4942-bd38-d266ec8d3716",
                        "flow": {
                            "uuid": "76f0a02f-3b75-4b86-9064-e9195e1b3a02",
                            "name": "Resthook"
                        },
                        "path": [
                            {
                                "uuid": "8720f157-ca1c-432f-9c0b-2014ddc77094",
                                "node_uuid": "10e483a8-5ffb-4c4f-917b-d43ce86c1d65",
                                "exit_uuid": "cffd72b4-0b30-41a8-ae2b-b8e5019a164d",
                                "arrived_on": "2018-07-06T12:30:03.123456789Z"
                            },
                            {
                                "uuid": "c34b6c7d-fa06-4563-92a3-d648ab64bccb",
                                "node_uuid": "833fc698-d590-42dc-93e1-39e701b7e8e4",
                                "exit_uuid": "d075e84c-cdfd-4b6d-82e1-d64a03fb7acb",
                                "arrived_on": "2018-07-06T12:30:18.123456789Z"
                            }
                        ],
                        "events": [
                            {
                                "type": "resthook_called",
                                "created_on": "2018-07-06T12:30:04.123456789Z",
                                "step_uuid": "8720f157-ca1c-432f-9c0b-2014ddc77094",
                                "resthook": "new-registration",
                                "payload": {
                                    "channel": null,
                                    "contact": {
                                        "language": "eng",
                                        "name": "Ben Haggerty",
                                        "urn": "tel:+12065551212",
                                        "uuid": "ba96bf7f-bc2a-4873-a7c7-254d1927c4e3"
                                    },
                                    "flow": {
                                        "name": "Resthook",
                                        "revision": 0,
                                        "uuid": "76f0a02f-3b75-4b86-9064-e9195e1b3a02"
                                    },
                                    "input": null,
                                    "path": [
                                        {
                                            "arrived_on": "2018-07-06T12:30:03.123456Z",
                                            "exit_uuid": "",
                                            "node_uuid": "10e483a8-5ffb-4c4f-917b-d43ce86c1d65",
                                            "uuid": "8720f157-ca1c-432f-9c0b-2014ddc77094"
                                        }
                                    ],
                                    "results": {},
                                    "run": {
                                        "created_on": "2018-07-06T12:30:00.123456Z",
                                        "uuid": "692926ea-09d6-4942-bd38-d266ec8d3716"
                                    }
                                }
                            },
                            {
                                "type": "webhook_called",
                                "created_on": "2018-07-06T12:30:08.123456789Z",
                                "step_uuid": "8720f157-ca1c-432f-9c0b-2014ddc77094",
                                "url": "http://localhost/?cmd=badrequest",
                                "status": "response_error",
                                "request": "POST /?cmd=badrequest HTTP/1.1\r\nHost: localhost\r\nUser-Agent: goflow-testing\r\nContent-Length: 513\r\nContent-Type: application/json\r\nAccept-Encoding: gzip\r\n\r\n{\"channel\":null,\"contact\":{\"language\":\"eng\",\"name\":\"Ben Haggerty\",\"urn\":\"tel:+12065551212\",\"uuid\":\"ba96bf7f-bc2a-4873-a7c7-254d1927c4e3\"},\"flow\":{\"name\":\"Resthook\",\"revision\":0,\"uuid\":\"76f0a02f-3b75-4b86-9064-e9195e1b3a02\"},\"input\":null,\"path\":[{\"arrived_on\":\"2018-07-06T12:30:03.123456Z\",\"exit_uuid\":\"\",\"node_uuid\":\"10e483a8-5ffb-4c4f-917b-d43ce86c1d65\",\"uuid\":\"8720f157-ca1c-432f-9c0b-2014ddc77094\"}],\"results\":{},\"run\":{\"created_on\":\"2018-07-06T12:30:00.123456Z\",\"uuid\":\"692926ea-09d6-4942-bd38-d266ec8d3716\"}}",
                                "response": "HTTP/1.0 400 Bad Request\r\nContent-Length: 29\r\n\r\n{ \"errors\": [\"bad_request\"] }",
                                "elapsed_ms": 1000,
                                "resthook": "new-registration",
                                "status_code": 400
                            },
                            {
                                "type": "webhook_called",
                                "created_on": "2018-07-06T12:30:12.123456789Z",
                                "step_uuid": "8720f157-ca1c-432f-9c0b-2014ddc77094",
                                "url": "http://localhost/?cmd=success",
                                "status": "success",
                                "request": "POST /?cmd=success HTTP/1.1\r\nHost: localhost\r\nUser-Agent: goflow-testing\r\nContent-Length: 513\r\nContent-Type: application/json\r\nAccept-Encoding: gzip\r\n\r\n{\"channel\":null,\"contact\":{\"language\":\"eng\",\"name\":\"Ben Haggerty\",\"urn\":\"tel:+12065551212\",\"uuid\":\"ba96bf7f-bc2a-4873-a7c7-254d1927c4e3\"},\"flow\":{\"name\":\"Resthook\",\"revision\":0,\"uuid\":\"76f0a02f-3b75-4b86-9064-e9195e1b3a02\"},\"input\":null,\"path\":[{\"arrived_on\":\"2018-07-06T12:30:03.123456Z\",\"exit_uuid\":\"\",\"node_uuid\":\"10e483a8-5ffb-4c4f-917b-d43ce86c1d65\",\"uuid\":\"8720f157-ca1c-432f-9c0b-2014ddc77094\"}],\"results\":{},\"run\":{\"created_on\":\"2018-07-06T12:30:00.123456Z\",\"uuid\":\"692926ea-09d6-4942-bd38-d266ec8d3716\"}}",
                                "response": "HTTP/1.0 200 OK\r\nContent-Length: 16\r\n\r\n{ \"ok\": \"true\" }",
                                "elapsed_ms": 1000,
                                "resthook": "new-registration",
                                "status_code": 200
                            },
                            {
                                "type": "run_result_changed",
                                "created_on": "2018-07-06T12:30:16.123456789Z",
                                "step_uuid": "8720f157-ca1c-432f-9c0b-2014ddc77094",
                                "name": "Response 1",
                                "value": "400",
                                "category": "Failure",
                                "input": "POST http://localhost/?cmd=badrequest",
                                "extra": {
                                    "errors": [
                                        "bad_request"
                                    ]
                                },
                                "corrected": ""
                            },
                            {
                                "type": "msg_created",
                                "created_on": "2018-07-06T12:30:19.123456789Z",
                                "step_uuid": "c34b6c7d-fa06-4563-92a3-d648ab64bccb",
                                "msg": {
                                    "uuid": "5802813d-6c58-4292-8228-9728778b6c98",
                                    "urn": "tel:+12065551212",
                                    "channel": {
                                        "uuid": "57f1078f-88aa-46f4-a59a-948a5739c03d",
                                        "name": "Android Channel"
                                    },
                                    "text": "Resthook: {\"errors\":[\"bad_request\"]}",
                                    "sharing_config": {}
                                }
                            }
                        ],
                        "results": {
                            "response_1": {
                                "name": "Response 1",
                                "value": "400",
                                "category": "Failure",
                                "node_uuid": "10e483a8-5ffb-4c4f-917b-d43ce86c1d65",
                                "input": "POST http://localhost/?cmd=badrequest",
                                "extra": {
                                    "errors": [
                                        "bad_request"
                                    ]
                                },
                                "created_on": "2018-07-06T12:30:14.123456789Z",
                                "corrected": ""
                            }
                        },
                        "status": "completed",
                        "created_on": "2018-07-06T12:30:00.123456789Z",
                        "modified_on": "2018-07-06T12:30:21.123456789Z",
                        "expires_on": null,
                        "exited_on": "2018-07-06T12:30:21.123456789Z"
                    }
                ],
                "status": "completed"
            },
            "events": [
                {
                    "type": "resthook_called",
                    "created_on": "2018-07-06T12:30:04.123456789Z",
                    "step_uuid": "8720f157-ca1c-432f-9c0b-2014ddc77094",
                    "resthook": "new-registration",
                    "payload": {
                        "channel": null,
                        "contact": {
                            "language": "eng",
                            "name": "Ben Haggerty",
                            "urn": "tel:+12065551212",
                            "uuid": "ba96bf7f-bc2a-4873-a7c7-254d1927c4e3"
                        },
                        "flow": {
                            "name": "Resthook",
                            "revision": 0,
                            "uuid": "76f0a02f-3b75-4b86-9064-e9195e1b3a02"
                        },
                        "input": null,
                        "path": [
                            {
                                "arrived_on": "2018-07-06T12:30:03.123456Z",
                                "exit_uuid": "",
                                "node_uuid": "10e483a8-5ffb-4c4f-917b-d43ce86c1d65",
                                "uuid": "8720f157-ca1c-432f-9c0b-2014ddc77094"
                            }
                        ],
                        "results": {},
                        "run": {
                            "created_on": "2018-07-06T12:30:00.123456Z",
                            "uuid": "692926ea-09d6-4942-bd38-d266ec8d3716"
                        }
                    }
                },
                {
                    "type": "webhook_called",
                    "created_on": "2018-07-06T12:30:08.123456789Z",
                    "step_uuid": "8720f157-ca1c-432f-9c0b-2014ddc77094",
                    "url": "http://localhost/?cmd=badrequest",
                    "status": "response_error",
                    "request": "POST /?cmd=badrequest HTTP/1.1\r\nHost: localhost\r\nUser-Agent: goflow-testing\r\nContent-Length: 513\r\nContent-Type: application/json\r\nAccept-Encoding: gzip\r\n\r\n{\"channel\":null,\"contact\":{\"language\":\"eng\",\"name\":\"Ben Haggerty\",\"urn\":\"tel:+12065551212\",\"uuid\":\"ba96bf7f-bc2a-4873-a7c7-254d1927c4e3\"},\"flow\":{\"name\":\"Resthook\",\"revision\":0,\"uuid\":\"76f0a02f-3b75-4b86-9064-e9195e1b3a02\"},\"input\":null,\"path\":[{\"arrived_on\":\"2018-07-06T12:30:03.123456Z\",\"exit_uuid\":\"\",\"node_uuid\":\"10e483a8-5ffb-4c4f-917b-d43ce86c1d65\",\"uuid\":\"8720f157-ca1c-432f-9c0b-2014ddc77094\"}],\"results\":{},\"run\":{\"created_on\":\"2018-07-06T12:30:00.123456Z\",\"uuid\":\"692926ea-09d6-4942-bd38-d266ec8d3716\"}}",
                    "response": "HTTP/1.0 400 Bad Request\r\nContent-Length: 29\r\n\r\n{ \"errors\": [\"bad_request\"] }",
                    "elapsed_ms": 1000,
                    "resthook": "new-registration",
                    "status_code": 400
                },
                {
                    "type": "webhook_called",
                    "created_on": "2018-07-06T12:30:12.123456789Z",
                    "step_uuid": "8720f157-ca1c-432f-9c0b-2014ddc77094",
                    "url": "http://localhost/?cmd=success",
                    "status": "success",
                    "request": "POST /?cmd=success HTTP/1.1\r\nHost: localhost\r\nUser-Agent: goflow-testing\r\nContent-Length: 513\r\nContent-Type: application/json\r\nAccept-Encoding: gzip\r\n\r\n{\"channel\":null,\"contact\":{\"language\":\"eng\",\"name\":\"Ben Haggerty\",\"urn\":\"tel:+12065551212\",\"uuid\":\"ba96bf7f-bc2a-4873-a7c7-254d1927c4e3\"},\"flow\":{\"name\":\"Resthook\",\"revision\":0,\"uuid\":\"76f0a02f-3b75-4b86-9064-e9195e1b3a02\"},\"input\":null,\"path\":[{\"arrived_on\":\"2018-07-06T12:30:03.123456Z\",\"exit_uuid\":\"\",\"node_uuid\":\"10e483a8-5ffb-4c4f-917b-d43ce86c1d65\",\"uuid\":\"8720f157-ca1c-432f-9c0b-2014ddc77094\"}],\"results\":{},\"run\":{\"created_on\":\"2018-07-06T12:30:00.123456Z\",\"uuid\":\"692926ea-09d6-4942-bd38-d266ec8d3716\"}}",
                    "response": "HTTP/1.0 200 OK\r\nContent-Length: 16\r\n\r\n{ \"ok\": \"true\" }",
                    "elapsed_ms": 1000,
                    "resthook": "new-registration",
                    "status_code": 200
                },
                {
                    "type": "run_result_changed",
                    "created_on": "2018-07-06T12:30:16.123456789Z",
                    "step_uuid": "8720f157-ca1c-432f-9c0b-2014ddc77094",
                    "name": "Response 1",
                    "value": "400",
                    "category": "Failure",
                    "input": "POST http://localhost/?cmd=badrequest",
                    "extra": {
                        "errors": [
                            "bad_request"
                        ]
                    },
                    "corrected": ""
                },
                {
                    "type": "msg_created",
                    "created_on": "2018-07-06T12:30:19.123456789Z",
                    "step_uuid": "c34b6c7d-fa06-4563-92a3-d648ab64bccb",
                    "msg": {
                        "uuid": "5802813d-6c58-4292-8228-9728778b6c98",
                        "urn": "tel:+12065551212",
                        "channel": {
                            "uuid": "57f1078f-88aa-46f4-a59a-948a5739c03d",
                            "name": "Android Channel"
                        },
                        "text": "Resthook: {\"errors\":[\"bad_request\"]}",
                        "sharing_config": {}
                    }
                }
            ]
        }
    ],
    "resumes": [],
    "trigger": {
        "contact": {
            "created_on": "2000-01-01T00:00:00.000000000-00:00",
            "fields": {},
            "id": 1234567,
            "language": "eng",
            "name": "Ben Haggerty",
            "status": "active",
            "timezone": "America/Guayaquil",
            "urns": [
                "tel:+12065551212"
            ],
            "uuid": "ba96bf7f-bc2a-4873-a7c7-254d1927c4e3"
        },
        "flow": {
            "name": "Resthook",
            "uuid": "76f0a02f-3b75-4b86-9064-e9195e1b3a02"
        },
        "triggered_on": "2000-01-01T00:00:00.000000000-00:00",
        "type": "manual"
    }
}
